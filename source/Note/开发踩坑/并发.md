### 防止并发重复塞爆数据库

1、加锁

2、死锁情况

3、重复插入情况：

​       获取了锁，释放了锁，但是释放锁并没有结束异常监听的线程。

​       后面线程获取锁，然后数据插入，爆异常，数据回滚



## Linux 机器排查问题

top c

lsof -p  查找进程相关的句柄文件

go test -json   -covermode=atomic   -coverprofile /tmp/profile_tmp.cov github.com/ok-chain/okchain/x/backend/types